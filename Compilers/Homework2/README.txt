Ιωάννης Τασσόπουλος
Sdi1500155

Compilers εργασία 2

Τα παραδοτέα αρχεία αποτελούνται από το  SymbolTable.java, StoreVisitor.java, TypecheckVisitor.java και Main.java .

SymbolTable: Το SymbolTable είναι η δομή όπου αποθηκεύουμε όλα τα στοιχεία των inputs (ονόματα κλάσεων, μεταβλητών και μεθόδων). Αποτελείται από την κλάση Entry που αποθηκεύουμε το type και το id του στοιχείου (μεταβλητή), την κλάση Method που αποθηκεύουμε τα στοιχεία της μεθόδου (όνομα, return_type, arguments, μεταβλητές) και από την κλάση ClassScope που εκεί αποθηκεύονται οι κλάσεις και οι extended classes (όνομα, μεταβλητές, λίστα με ποιες κλάσεις τις κάνουν extend (αν υπάρχουν) και μέθοδοι). Το SymbolTable διαχειρίζεται το  symboltable με τις κατάλληλες μεθόδους π.χ. τα διάφορα insert, find και get. 

 StoreVisitor: Ο StoreVisitor με τη βοήθεια των συναρτήσεων της GJDepthFirst.java (κοιτώντας παράλληλα και την γραμματική  MiniJava BNF) γεμίζει το symboltable καθώς διασχίζει το input. Με απλές τεχνικές διαχείρισης string, καλούμε τις μεθόδους και τοποθετούμε τις πληροφορίες στο symboltable.

TypecheckVisitor: Ο TypecheckVisitor ξαναδιασχίζει το input αρχείο και κάνει typechecking. Έχουμε ένα αντικείμενο info, το οποίο δημιουργείται κάθε φορά που καλείται είτε η ClassDeclaration  είτε η ClassExtendsDeclaration, στο οποίο αποθηκεύουμε απαραίτητες πληροφορίες (όπως το όνομα της κλάσης, το όνομα της μεθόδου, τι τύπος είναι η συνάρτηση/ μεταβλητή κτλ), καθώς το περνάμε σαν argu σε όλες τις συναρτήσεις. Όλα τα παραδείγματα που δόθηκαν βγάζουν σωστά αποτελέσματα (δεν έχει γίνει έλεγχος στα minijava-extra λόγω έλλειψης χρόνου). Δεν γίνεται κάποιος έλεγχος στην main class του inputfile (ειδα οτι μετα σε καποια παραδειγματα χρειαζεται αλλα ο κωδικας ειναι ετοιμος και η λογικη ιδια). Πιστεύω ότι έχω καλύψει σχεδόν όλες τις περιπτώσεις του typechecking. Αυτά τα γράφω γιατί παραδίδω την εργασία 04/05 ώστε να μην έχω παραπάνω ποινή. 

Main: Στη Main απλά καλούνται οι συναρτήσεις και γίνονται τα κατάλληλα prints. Τα offsets γίνονται print πριν το typechecking και μετά βγαίνει μήνυμα (correct / false) για το αν πέρασε το typechecking το inputfile.
Το makefile δεν το εστειλα γιατι ειναι το ιδιο makefile που δώσατε